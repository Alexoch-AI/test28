{"version":3,"sources":["components/Table/table.module.scss","components/ModalAddItem/ModalAddItem.jsx","components/PersonRow/PersonRow.jsx","components/Table/Table.jsx","App.js","index.js"],"names":["module","exports","ModalAddItem","active","setActive","children","className","onClick","e","stopPropagation","PersonRow","user","arrayDaysUser","Days","map","el","hoursTimeUser","minuteTimeUser","i","count","Number","Date","split","splice","null","style","leftColumn","Fullname","arr","startTime","Start","endTime","End","hours","minutes","allTime","Math","ceil","random","rightColumn","Table","dataJson","require","useState","modalActive","setModalActive","sortActive","setSortActive","searchInput","setSearchInput","myData","setMyData","covid","modalData","setModalData","currentPage","setCurrentPage","countResolve","setCountResolve","countPages","length","dataPersons","JSON","parse","stringify","useEffect","a","forEach","l","max","sort","b","arrayPages","push","monthDay","clickHandler","fetch","method","headers","json","serverresponse","provinces","paggHandler","main","modd","slice","index","id","paggDiv2","onSubmit","preventDefault","ak","type","value","onChange","target","confirmed","recovered","deaths","paggDiv","pagg__active","pagg","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8fb4c394.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagg\":\"table_pagg__5HNxB\",\"pagg__active\":\"table_pagg__active__2d797\",\"modd\":\"table_modd__2szN-\",\"main\":\"table_main__XeENb\",\"paggDiv\":\"table_paggDiv__37R6Q\",\"paggDiv2\":\"table_paggDiv2__2is-X\",\"leftColumn\":\"table_leftColumn__60zTr\",\"rightColumn\":\"table_rightColumn__1IR27\"};","import React from \"react\";\nimport \"./modalAddItem.css\";\n\nfunction ModalAddItem({ active, setActive, children }) {\n  return (\n    <div\n      className={active ? \"modal active\" : \"modal\"}\n      onClick={() => setActive(false)}\n    >\n      <div\n        className={active ? \"modal__content active\" : \"modal__content\"}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport default ModalAddItem;\n","import React from \"react\";\nimport style from \"../Table/table.module.scss\";\n\nfunction PersonRow({ user }) {\n  let arrayDaysUser = user?.Days?.map((el) => el);\n  let hoursTimeUser = 0;\n  let minuteTimeUser = 0;\n\n  for (let i = 0; i < 31; i++) {\n    const day = Number(arrayDaysUser[i]?.Date?.split(\"-\")[2]);\n    let count = 1;\n    if (day !== i + count) {\n      arrayDaysUser.splice(i, 0, { null: 0 });\n      count++;\n    }\n  }\n\n  return (\n    <tr>\n      <td className={style.leftColumn}>{user.Fullname}</td>\n      {arrayDaysUser.map((el, i, arr) => {\n        if (el.Date) {\n          const startTime = el.Start.split(\"-\");\n          const endTime = el.End.split(\"-\");\n          const hours = (Number(startTime[0]) - Number(endTime[0])) * -1;\n          let minutes = Number(startTime[1]) - Number(endTime[1]);\n          if (minutes < 0) {\n            minutes = minutes * -1;\n          }\n          hoursTimeUser += hours;\n          minuteTimeUser += minutes;\n          user = {\n            ...user,\n            allTime: Math.ceil(hoursTimeUser + minuteTimeUser / 60),\n          };\n          return <td key={Math.random()}>{`${hours}h.${minutes}m`}</td>;\n        }\n        return <td key={Math.random()}>0</td>;\n      })}\n      <td className={style.rightColumn}>{user?.allTime} h.</td>\n    </tr>\n  );\n}\n\nexport default PersonRow;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from \"react\";\nimport ModalAddItem from \"../ModalAddItem/ModalAddItem\";\nimport PersonRow from \"../PersonRow/PersonRow\";\nimport style from \"./table.module.scss\";\n\nfunction Table() {\n  let dataJson = require(\"../../data.json\");\n  const [modalActive, setModalActive] = useState(false);\n  const [sortActive, setSortActive] = useState(false);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [myData, setMyData] = useState([]);\n  const [modalData, setModalData] = useState({\n    covid: null,\n    el: null,\n  });\n  const [currentPage, setCurrentPage] = useState(1);\n  const [countResolve, setCountResolve] = useState(10);\n\n  const countPages = Math.ceil(dataJson.length / 10);\n\n  let dataPersons = JSON.parse(JSON.stringify(dataJson));\n  useEffect(() => {\n    setMyData(dataPersons);\n  }, []);\n\n  const inputHandler = (e) => {\n    setSearchInput(e.target.value);\n  };\n\n  const searchPerson = (e) => {\n    e.preventDefault();\n    let ak = [];\n    dataPersons.forEach((el) => {\n      // console.log(el?.Fullname?.split(\" \")[0] === searchInput);\n      if (el?.Fullname?.split(\" \")[0] === searchInput) {\n        ak.push(el);\n        setSearchInput(\"\");\n      } else if (el?.Fullname?.split(\" \")[1] === searchInput) {\n        ak.push(el);\n        setSearchInput(\"\");\n      } else if (el?.Fullname === searchInput) {\n        ak.push(el);\n        setSearchInput(\"\");\n      }\n    });\n    setMyData(ak);\n    paggHandler(1);\n  };\n\n  const newState = () => {\n    setMyData(dataPersons);\n  };\n\n  const a = dataJson\n    .map((el) => {\n      let hoursTimeUser = 0;\n      let minuteTimeUser = 0;\n      el.Days.forEach((l) => {\n        const startTime = l.Start.split(\"-\");\n        const endTime = l.End.split(\"-\");\n        const hours = (Number(startTime[0]) - Number(endTime[0])) * -1;\n        let minutes = Number(startTime[1]) - Number(endTime[1]);\n        if (minutes < 0) {\n          minutes = minutes * -1;\n        }\n        hoursTimeUser += hours;\n        minuteTimeUser += minutes;\n      });\n      return { ...el, max: Math.ceil(hoursTimeUser + minuteTimeUser / 60) };\n    })\n    .sort((a, b) => b.max - a.max);\n\n  const arrayPages = [];\n  for (let i = 1; i <= countPages; i++) {\n    arrayPages.push(i);\n  }\n\n  const monthDay = [];\n  for (let i = 1; i <= 31; i++) {\n    monthDay.push(i);\n  }\n\n  const clickHandler = async (el) => {\n    const a = await fetch(\n      `https://covid-19-data.p.rapidapi.com/report/country/name?name=russia&date=2020-05-${el}`,\n      {\n        method: \"GET\",\n        headers: {\n          \"x-rapidapi-host\": \"covid-19-data.p.rapidapi.com\",\n          \"x-rapidapi-key\":\n            \"f7e5129388mshd71bc2096ae46c7p15f887jsn533233b1a6c2\",\n        },\n      }\n    );\n    let serverresponse = await a.json();\n    setModalData({ covid: serverresponse[0]?.provinces[0], el: el });\n    setModalActive(true);\n  };\n\n  const paggHandler = (el) => {\n    setCurrentPage(el);\n    setCountResolve(el * 10);\n  };\n  return (\n    <>\n      <div className={style.main}>\n        <table>\n          <thead>\n            <tr>\n              <th onClick={newState}>Name</th>\n              {monthDay.map((el) => (\n                <th\n                  className={style.modd}\n                  onClick={() => clickHandler(el)}\n                  key={el}\n                >\n                  {el}\n                </th>\n              ))}\n              <th\n                className={style.rightColumn}\n                onClick={() => setSortActive(!sortActive)}\n              >\n                Monthly total\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {sortActive\n              ? a\n                  .slice(countResolve - 10, countResolve)\n                  .map((el, i) => (\n                    <PersonRow\n                      key={el.id}\n                      user={el}\n                      index={i}\n                      sortActive={sortActive}\n                      setSortActive={setSortActive}\n                      dataPersons={dataPersons}\n                    />\n                  ))\n              : myData\n                  .slice(countResolve - 10, countResolve)\n                  .map((el, i) => (\n                    <PersonRow\n                      key={el.id}\n                      user={el}\n                      index={i}\n                      sortActive={sortActive}\n                      setSortActive={setSortActive}\n                      dataPersons={dataPersons}\n                    />\n                  ))}\n          </tbody>\n        </table>\n        <div className={style.paggDiv2}>\n          <form onSubmit={searchPerson}>\n            <input type=\"text\" value={searchInput} onChange={inputHandler} />\n            <button type=\"submit\">but</button>\n          </form>\n        </div>\n        <ModalAddItem active={modalActive} setActive={setModalActive}>\n          <p>\n            На 2020.05.{modalData?.el} в России обнаружено: подтверждено -{\" \"}\n            {modalData?.covid?.confirmed}, вылечено -{\" \"}\n            {modalData?.covid?.recovered}, умерло - {modalData?.covid?.deaths},\n            болеет - {modalData?.covid?.active}\n          </p>\n        </ModalAddItem>\n      </div>\n      <div className={style.paggDiv}>\n        {arrayPages.map((el, index) => (\n          <span\n            onClick={() => paggHandler(el)}\n            className={currentPage === el ? style.pagg__active : style.pagg}\n            key={index}\n          >\n            {el}\n          </span>\n        ))}\n      </div>\n    </>\n  );\n}\n\nexport default Table;\n","import './App.css';\nimport Table from './components/Table/Table';\n\nfunction App() {\n\n  return (\n    <div>\n      <Table />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}