{"version":3,"sources":["components/Table/table.module.scss","components/ModalAddItem/ModalAddItem.jsx","components/PersonRow/PersonRow.jsx","components/Table/Table.jsx","App.js","index.js"],"names":["module","exports","ModalAddItem","active","setActive","children","className","onClick","e","stopPropagation","PersonRow","user","arrayDaysUser","setSortActive","sortActive","Days","map","el","console","log","Fullname","hoursTimeUser","minuteTimeUser","i","count","Number","Date","split","splice","null","style","leftColumn","arr","startTime","Start","endTime","End","hours","minutes","allTime","Math","ceil","random","rightColumn","dataJson","require","Table","useState","modalActive","setModalActive","dataPersons","JSON","parse","stringify","a","forEach","l","max","sort","b","covid","modalData","setModalData","currentPage","setCurrentPage","countResolve","setCountResolve","countPages","length","arrayPages","push","monthDay","clickHandler","fetch","method","headers","json","serverresponse","provinces","main","modd","slice","index","id","confirmed","recovered","deaths","paggDiv","paggHandler","pagg__active","pagg","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.277d49d6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagg\":\"table_pagg__5HNxB\",\"pagg__active\":\"table_pagg__active__2d797\",\"modd\":\"table_modd__2szN-\",\"main\":\"table_main__XeENb\",\"paggDiv\":\"table_paggDiv__37R6Q\",\"leftColumn\":\"table_leftColumn__60zTr\",\"rightColumn\":\"table_rightColumn__1IR27\"};","import React from \"react\";\nimport \"./modalAddItem.css\";\n\nfunction ModalAddItem({ active, setActive, children }) {\n  return (\n    <div\n      className={active ? \"modal active\" : \"modal\"}\n      onClick={() => setActive(false)}\n    >\n      <div\n        className={active ? \"modal__content active\" : \"modal__content\"}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport default ModalAddItem;\n","import React from \"react\";\nimport style from \"../Table/table.module.scss\";\n\nfunction PersonRow({ user, setSortActive, sortActive }) {\n  let arrayDaysUser = user?.Days?.map((el) => el);\n  console.log(user.Fullname)\n  let hoursTimeUser = 0;\n  let minuteTimeUser = 0;\n\n  for (let i = 0; i < 31; i++) {\n    const day = Number(arrayDaysUser[i]?.Date?.split(\"-\")[2]);\n    let count = 1;\n    if (day !== i + count) {\n      arrayDaysUser.splice(i, 0, { null: 0 });\n      count++;\n    }\n  }\n\n  return (\n    <tr>\n      <td className={style.leftColumn}>{user.Fullname}</td>\n      {arrayDaysUser.map((el, i, arr) => {\n        if (el.Date) {\n          const startTime = el.Start.split(\"-\");\n          const endTime = el.End.split(\"-\");\n          const hours = (Number(startTime[0]) - Number(endTime[0])) * -1;\n          let minutes = Number(startTime[1]) - Number(endTime[1]);\n          if (minutes < 0) {\n            minutes = minutes * -1;\n          }\n          hoursTimeUser += hours;\n          minuteTimeUser += minutes;\n          user = {\n            ...user,\n            allTime: Math.ceil(hoursTimeUser + minuteTimeUser / 60),\n          };\n          return <td key={Math.random()}>{`${hours}h.${minutes}m`}</td>;\n        }\n        return <td key={Math.random()}>0</td>;\n      })}\n      <td className={style.rightColumn}>{user?.allTime} h.</td>\n    </tr>\n  );\n}\n\nexport default PersonRow;\n","import React, { useState } from \"react\";\nimport ModalAddItem from \"../ModalAddItem/ModalAddItem\";\nimport PersonRow from \"../PersonRow/PersonRow\";\nimport style from \"./table.module.scss\";\nlet dataJson = require(\"../../data.json\");\n\nfunction Table() {\n  const [modalActive, setModalActive] = useState(false);\n  const [sortActive, setSortActive] = useState(false);\n  let dataPersons = JSON.parse(JSON.stringify(dataJson));\n\n  const a = dataJson\n    .map((el) => {\n      let hoursTimeUser = 0;\n      let minuteTimeUser = 0;\n      el.Days.forEach((l) => {\n        const startTime = l.Start.split(\"-\");\n        const endTime = l.End.split(\"-\");\n        const hours = (Number(startTime[0]) - Number(endTime[0])) * -1;\n        let minutes = Number(startTime[1]) - Number(endTime[1]);\n        if (minutes < 0) {\n          minutes = minutes * -1;\n        }\n        hoursTimeUser += hours;\n        minuteTimeUser += minutes;\n        \n      });\n      return { ...el, max: Math.ceil(hoursTimeUser + minuteTimeUser / 60) };\n    })\n    .sort((a, b) => b.max - a.max);\n\n  const [modalData, setModalData] = useState({\n    covid: null,\n    el: null,\n  });\n  const [currentPage, setCurrentPage] = useState(1);\n  const [countResolve, setCountResolve] = useState(10);\n\n  const countPages = Math.ceil(dataJson.length / 10);\n\n  const arrayPages = [];\n  for (let i = 1; i <= countPages; i++) {\n    arrayPages.push(i);\n  }\n\n  const monthDay = [];\n  for (let i = 1; i <= 31; i++) {\n    monthDay.push(i);\n  }\n\n  const clickHandler = async (el) => {\n    const a = await fetch(\n      `https://covid-19-data.p.rapidapi.com/report/country/name?name=russia&date=2020-05-${el}`,\n      {\n        method: \"GET\",\n        headers: {\n          \"x-rapidapi-host\": \"covid-19-data.p.rapidapi.com\",\n          \"x-rapidapi-key\":\n            \"f7e5129388mshd71bc2096ae46c7p15f887jsn533233b1a6c2\",\n        },\n      }\n    );\n    let serverresponse = await a.json();\n    setModalData({ covid: serverresponse[0]?.provinces[0], el: el });\n    setModalActive(true);\n  };\n\n  const paggHandler = (el) => {\n    setCurrentPage(el);\n    setCountResolve(el * 10);\n  };\n  return (\n    <>\n      <div className={style.main}>\n        <table>\n          <thead>\n            <tr>\n              <th>Name</th>\n              {monthDay.map((el) => (\n                <th\n                  className={style.modd}\n                  onClick={() => clickHandler(el)}\n                  key={el}\n                >\n                  {el}\n                </th>\n              ))}\n              <th\n                className={style.rightColumn}\n                onClick={() => setSortActive(!sortActive)}\n              >\n                Monthly total\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {sortActive\n              ? a\n                  .slice(countResolve - 10, countResolve)\n                  .map((el, i) => (\n                    <PersonRow\n                      key={el.id}\n                      user={el}\n                      index={i}\n                      sortActive={sortActive}\n                      setSortActive={setSortActive}\n                      dataPersons={dataPersons}\n                    />\n                  ))\n              : dataPersons\n                  .slice(countResolve - 10, countResolve)\n                  .map((el, i) => (\n                    <PersonRow\n                      key={el.id}\n                      user={el}\n                      index={i}\n                      sortActive={sortActive}\n                      setSortActive={setSortActive}\n                      dataPersons={dataPersons}\n                    />\n                  ))}\n          </tbody>\n        </table>\n        <ModalAddItem active={modalActive} setActive={setModalActive}>\n          <p>\n            На 2020.05.{modalData?.el} в России обнаружено: подтверждено -{\" \"}\n            {modalData?.covid?.confirmed}, вылечено -{\" \"}\n            {modalData?.covid?.recovered}, умерло - {modalData?.covid?.deaths},\n            болеет - {modalData?.covid?.active}\n          </p>\n        </ModalAddItem>\n      </div>\n      <div className={style.paggDiv}>\n        {arrayPages.map((el, index) => (\n          <span\n            onClick={() => paggHandler(el)}\n            className={currentPage === el ? style.pagg__active : style.pagg}\n            key={index}\n          >\n            {el}\n          </span>\n        ))}\n      </div>\n    </>\n  );\n}\n\nexport default Table;\n","import './App.css';\nimport Table from './components/Table/Table';\n\nfunction App() {\n\n  return (\n    <div>\n      <Table />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}